---
title: "Markdown"
author: "Matias"
date: "2020-12-22"
output: html_document
bibliography: bibliografia.bib
---

## Macro 1

> Estrutura a Termo da Taxa de Juros

A curva de juros, ou *yield curve* representa o quanto as pessoas estão cobrando de juros para um determinado *devedor* a depender do tempo que ele tem para pagar. Para isso, nós vamos usar o **pacote** `GetTDData` (*Get Tesouro Direto Data*), que nos traz informações do sistema do <http:://www.tesourodireto.com.br>.

```{r setup, warning=FALSE}
library(GetTDData)
```

```{r abrir-LTN, include=FALSE}
LTN <- read.TD.files(asset.codes = 'LTN')
```


Nesse pacote podemos obter informações de todos os títulos emitidos pelo *Tesouro Nacional*. Abaixo vão as características deles:

|Sigla | Título | Pré ou Pós | Índice | Cupom|
|:-----:|:-----:|:-----:|:-----:|:-----:|
|LTN | Letra do Tesouro Nacional | Pré | - | N |

Agora temos as informações de `r nrow(LTN)` contratos de LTN, iniciando em `r min(LTN$ref.date)` até `r max(LTN$ref.date)`. A distribuição dos contratos por ano pode ser vista no _Gráfico_ abaixo:

```{r nro-contratos, cache=TRUE, dependson='abrir-LTN', echo = TRUE}
anos <- c()

for(ano in unique(lubridate::year(LTN$ref.date))) {

anos <- c(anos, sum(lubridate::year(LTN$ref.date) == ano))

}

barplot(anos,
        xlab = "Ano",
        font.lab = 2,
        ylab = "Qtd de Contratos",
        names = unique(lubridate::year(LTN$ref.date)),
        las = 2,
        cex.axis = .5)
        
```

Vamos ver as informações dos contratos de LTN de 2020 com maior data de vencimento.

```{r LTN-2020, echo = TRUE}

knitr::kable(LTN[lubridate::year(LTN$ref.date) == 2020 &
        lubridate::year(LTN$matur.date) == max(lubridate::year(LTN$matur.date)),][1:5,],
        caption = "LTNs de 2020")

```

A análise da queda dos juros sugerida em @pesaran2001.

> Opções no *chunck code*

`eval = FALSE` - Não roda o código

`include = FALSE` - Roda o código, mas não inclui no arquivo final

`echo = FALSE` - Roda o código e inclui apenas os outputs no arquivo

`message` e `warning = FALSE` - Não inclui mensagens e avisos

`results` e `fig.show = "hide"` - Não inclui resultados ou gráficos

`error = TRUE` - Knit não para ao encontar um erro 

## Bibliografia